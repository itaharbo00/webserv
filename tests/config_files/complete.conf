# Configuration compl√®te avec toutes les directives
server {
	listen 8080;
	server_name localhost;
	
	root ./www;
	index index.html;
	
	client_max_body_size 10M;
	
	error_page 404 /errors/404.html;
	error_page 500 502 503 504 /errors/50x.html;
	
	location / {
		allow_methods GET POST DELETE;
		autoindex off;
	}
	
	location /uploads {
		allow_methods GET POST;
		root ./uploads;
		index upload.html;
		upload_store ./uploads;
		client_max_body_size 50M;
	}
	
	location /cgi-bin {
		allow_methods GET POST;
		cgi_pass /usr/bin/php-cgi;
		cgi_ext .php;
	}
	
	location /redirect {
		return 301 /;
	}
	
	location /api {
		allow_methods GET POST DELETE;
		autoindex on;
	}
}
